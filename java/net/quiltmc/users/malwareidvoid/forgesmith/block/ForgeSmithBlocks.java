package net.quiltmc.users.malwareidvoid.forgesmith.block;

import net.fabricmc.fabric.api.itemgroup.v1.FabricItemGroupEntries;
import net.fabricmc.fabric.api.itemgroup.v1.ItemGroupEvents;
import net.minecraft.item.Items;
import net.minecraft.block.Block;
import net.minecraft.block.Blocks;
import net.minecraft.item.BlockItem;
import net.minecraft.item.ItemGroups;
import net.minecraft.registry.Registries;
import net.minecraft.registry.Registry;
import net.minecraft.util.Identifier;
import net.quiltmc.users.malwareidvoid.forgesmith.Forgesmith;
import org.quiltmc.qsl.block.extensions.api.QuiltBlockSettings;
import org.quiltmc.qsl.item.setting.api.QuiltItemSettings;

public class ForgeSmithBlocks {
	public static final Block MINERAL_DEBRIS = RegisterBlockItem("mineral_debris", new Block(QuiltBlockSettings.copyOf(Blocks.ANCIENT_DEBRIS)));

	public static final Block TERRANIGHT_BLOCK = RegisterBlockItem("terranight_block", new Block(QuiltBlockSettings.copyOf(Blocks.NETHERITE_BLOCK)));

    public static final Block PURPUR_DEBRIS = RegisterBlockItem("purpur_debris", new Block(QuiltBlockSettings.copyOf(Blocks.ANCIENT_DEBRIS)));

	public static final Block ENDERQUITE_BLOCK = RegisterBlockItem("enderquite_block", new Block(QuiltBlockSettings.copyOf(Blocks.NETHERITE_BLOCK)));
    private static Block RegisterBlockItem(String name, Block block) {
        RegisterItem(name,block);
        return Registry.register(Registries.BLOCK,new Identifier(Forgesmith.MOD_ID,name),block);
    }
    private static void RegisterItem(String name, Block block){
		Registry.register(Registries.ITEM, new Identifier(Forgesmith.MOD_ID,name),new BlockItem(block,new QuiltItemSettings()));
	}
	private static void BuildingTab(FabricItemGroupEntries entries){
		entries.addAfter(Items.CHAIN,TERRANIGHT_BLOCK);
		entries.addAfter(Items.LIGHT_WEIGHTED_PRESSURE_PLATE,ENDERQUITE_BLOCK);
	}
	private static void NaturalTab(FabricItemGroupEntries entries){
		entries.addBefore(Items.ANCIENT_DEBRIS,MINERAL_DEBRIS);
		entries.addAfter(Items.ANCIENT_DEBRIS,PURPUR_DEBRIS);
		entries.addAfter(Items.ANCIENT_DEBRIS,PURPUR_DEBRIS);
	}
	private static void IngredientsTab(FabricItemGroupEntries entries){
		entries.addBefore(Items.ANCIENT_DEBRIS,MINERAL_DEBRIS);
		entries.addAfter(Items.ANCIENT_DEBRIS,PURPUR_DEBRIS);
	}
    public static void RegisterBlocks(){
		ItemGroupEvents.modifyEntriesEvent(ItemGroups.BUILDING_BLOCKS).register(ForgeSmithBlocks::BuildingTab);
		ItemGroupEvents.modifyEntriesEvent(ItemGroups.NATURAL_BLOCKS).register(ForgeSmithBlocks::NaturalTab);
		ItemGroupEvents.modifyEntriesEvent(ItemGroups.INGREDIENTS).register(ForgeSmithBlocks::IngredientsTab);
    }
}
